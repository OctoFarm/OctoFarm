<div class="row">
    <% if(systemInformation !== null){ %>
        <div class="col-lg-12">
            <div class="card text-white bg-dark">
                <div class="card-header dashHeader p-0">
                    <button
                            type="button"
                            class="btn btn-secondary float-left d-block ml-1 mr-1 p-1"
                            href="#"
                            aria-expanded="false"
                            disabled
                    >
                        <i class="fas fa-toilet-paper"></i> System Information
                    </button>

                </div>
                <div class="card-body p-0">
                    <div class="row">
                        <div class="col-12">
                            <% if(systemInformation?.warnings?.status){ %>
                                <div class="alert alert-<%= systemInformation.warnings.status; %>" role="alert">
                                    <%= systemInformation.warnings?.message; %>
                                </div>
                            <% } %>
                            <% if(!serviceInformation?.isPm2 && !serviceInformation?.isNodemon){ %>
                                <div class="alert alert-warning" role="alert">
                                    Your system is not running with PM2! Some commands below may not work... Please
                                    setup your system correctly as instructed here: <a
                                            href='https://octofarm.net/installation' target='_blank'>Click Here</a>
                                </div>
                            <% } %>

                            <div class="row">
                                <div class="col-12 col-sm-12 col-md-6 col-lg-3 col-xl-3 text-center">

                                    <p class=""><i class="fas fa-hourglass-half"></i> System Uptime: <br><span
                                                class="text-light" id="systemUptime" style="font-size:0.8rem;">
                                            <%= helpers.generateTime(systemInformation.sysUptime.uptime); %>
                                        </span>

                                    </p>
                                    <p class=""><i class="fas fa-server"></i> OS: <br><span class="text-light"
                                                                                            id="systemArch"
                                                                                            style="font-size:0.8rem;">
                                            <%= systemInformation.osInfo.distro; %>

                                        </span>

                                    </p>
                                    <p class=""><i class="fas fa-bullseye"></i> System Architecture: <br><span
                                                class="text-light" id="systemArch" style="font-size:0.8rem;">
                                                <%= systemInformation.osInfo.arch; %>
                                            </span>

                                    </p>
                                    <div class="row">
                                        <div class="col-4">
                                            <p class=""><i class="fas fa-microchip"></i> CPU: <br><span
                                                        class="text-light" id="systemArch"
                                                        style="font-size:0.8rem;"></span>
                                                <% systemInformation.cpuCurrentSpeed.cores.forEach((core, index) => { %>
                                                    <small class="text-light">  <%= index; %>:</small>
                                                    <code><%= core; %>Ghz</code>
                                                <% }); %>
                                            </p>
                                        </div>
                                        <div class="col-4">
                                            <p class=""><i class="fas fa-memory"></i> Memory: <br>
                                                <span
                                                        class="text-light" id="systemArch"
                                                        style="font-size:0.8rem;">
                                                               <%= helpers.generateBytes(systemInformation.memoryInfo.total); %>
                                                    </span>
                                            </p>
                                        </div>
                                        <div class="col-4">
                                            <p class="">
                                                <i class="fas fa-hdd"></i> Main Disk:
                                                <b><%= systemInformation.systemDisk.mount; %></b><br>
                                                <b>Disk Partition: </b>
                                                <%= systemInformation.systemDisk.fs; %><br>
                                                <span class="text-light" id="systemHardDrive" style="font-size:0.8rem;">
                                                      <%= helpers.generateBytes(systemInformation.systemDisk.used); %>  /  <%= helpers.generateBytes(systemInformation.systemDisk.size); %> |  <%= systemInformation.systemDisk.use.toFixed(2); %>%
                                                </span>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-12 col-md-6 col-lg-3 col-xl-3 text-center">
                                    <div class="row">
                                        <div class="col-12 col-sm-12 text-center">
                                            <p class=""><i class="fas fa-hourglass-half"></i> OctoFarm Uptime: <br><span
                                                        class="text-light" id="processUpdate" style="font-size:0.8rem;">
                                                           <%= helpers.generateTime(systemInformation.processUptime); %>
                                                    </span>

                                            </p>
                                            <p><i class="fas fa-code-branch"></i> Current Version: <a
                                                        title="OctoFarm current version, will take you to github releases page"
                                                        class="text-light"
                                                        href="https://github.com/NotExpectedYet/OctoFarm/releases"
                                                        target="_blank"><br><%= serviceInformation?.update?.current_version; %>
                                                </a></p>

                                            <% if(!serviceInformation?.update?.latestReleaseKnown){ %>

                                                <p><i class="fas fa-code-branch"></i> Latest Version: <a
                                                            title="OctoFarm latest version, will take you to github releases page"
                                                            class="text-light"
                                                            href="https://github.com/NotExpectedYet/OctoFarm/releases"
                                                            target="_blank"><br><%= serviceInformation?.update?.current_version; %>
                                                    </a></p>

                                            <% }else{ %>

                                                <p><i class="fas fa-code-branch"></i> Latest Version:
                                                    <a
                                                            title="OctoFarm latest version, will take you to github releases page"
                                                            class="text-light"
                                                            href="<%= serviceInformation?.update?.latestReleaseKnown.html_url; %>"
                                                            target="_blank"><br><%= serviceInformation?.update?.latestReleaseKnown.name; %>
                                                        <br><%= serviceInformation?.update?.latestReleaseKnown.tag_name; %>
                                                    </a></p>
                                            <% } %>

                                            <p class=""><i class="far fa-clock"></i> Timezone: <br><span
                                                        class="text-light" id="timeZone" style="font-size:0.8rem;">
                                                         <%= systemInformation.sysUptime.timezoneName; %> (<%= systemInformation.sysUptime.timezone; %>)
                                                    </span>

                                            </p>
                                            <p class=""><i class="fas fa-terminal"></i> Run Command: <br><span
                                                        class="text-light" id="runCommand" style="font-size:0.8rem;">
                                                                <%= systemInformation.currentProcess?.command; %>
                                                    </span>

                                            </p>
                                        </div>

                                    </div>
                                </div>
                                <div class="col-12 col-sm-12 col-md-6 col-lg-3 col-xl-3">
                                    <div id="systemChartCPU"></div>
                                </div>
                                <div class="col-12 col-sm-12 col-md-6 col-lg-3 col-xl-3">
                                    <div id="systemChartMemory"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    <% }else{ %>
    <div class="col-lg-12">
        <div class="card text-white bg-dark">
            <div class="card text-white bg-dark">

                <div class="card-header dashHeader p-0">
                    <button
                            type="button"
                            class="btn btn-secondary float-left d-block ml-1 mr-1 p-1"
                            href="#"
                            aria-expanded="false"
                            disabled
                    >
                        <i class="fas fa-toilet-paper"></i> System Information
                    </button>

                </div>
                <div class="card-body p-0">
                    <div class="row">
                        <div class="col-12 text-center">
                            <h5> It seems there was an issue generating your system information. Please use the dump
                                button below and uploaad to a new github issue. </h5>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <% } %>
    </div>
    <div class="row">
        <div class="col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6">
            <div class="card text-white bg-dark h-100">
                <div class="card-header dashHeader p-0">
                    <button
                            type="button"
                            class="btn btn-secondary float-left d-block ml-1 mr-1 p-1"
                            href="#"
                            aria-expanded="false"
                            disabled
                    >
                        <i class="fas fa-layer-group"></i> Service Information
                    </button>

                </div>
                <div class="card-body p-0">
                    <div class="row">
                        <div class="col-12 col-sm-12 col-md-12 col-lg-6 text-center">
                            <% if(serviceInformation?.air_gapped){ %>
                                <p class="text-light mb-0"><i class="fas fa-heartbeat text-danger"></i> Farm is
                                    currently air gapped</p>
                                <small class="text-warning">Please note some features may not work as intended</small>
                            <% }else{ %>
                                <p class="text-light"><i class="fas fa-heart text-success"></i> Farm is connected to the
                                    internet</p>
                            <% } %>
                            <% if(serviceInformation?.isNode){ %>
                                <p class="text-light mt-2">Powered by <i class="fab fa-node fa-2x text-success"></i></p>
                            <% } %>
                        </div>
                        <div class="col-12 col-sm-12 col-md-12 col-lg-6 text-center">
                            <% if(serviceInformation?.isDockerContainer){ %>
                                <p class="text-light"><i class="fab fa-docker text-info"></i></p>
                            <% } %>
                            <% if(serviceInformation?.isPm2){ %>
                                <p class="text-light"><i class="far fa-eye text-info"></i></i> Running under pm2</p>
                            <% } %>
                            <% if(serviceInformation?.isNodemon){ %>
                                <p class="text-light"><i class="far fa-eye text-info"></i> Running under nodemon</p>
                                <p class="text-light"><i class="fas fa-heart text-danger"></i> Hey lovely developer!
                                    Thanks for helping make OctoFarm great!</p>
                            <% } %>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6">
            <div class="card text-white bg-dark h-100">
                <div class="card-header dashHeader p-0">
                    <button
                            type="button"
                            class="btn btn-secondary float-left d-block ml-1 mr-1 p-1"
                            href="#"
                            aria-expanded="false"
                            disabled
                    >
                        <i class="fas fa-envelope-open-text"></i> Log Dump
                    </button>

                </div>
                <div class="card-body p-0">
                    <div class="row">
                        <div class="col-12 text-center">
                            <h5 class="text-light">Suffering some OctoFarm woes?</h5>
                            <p class="text-light">Use the "Log Dump" button below to dump out a .zip file ready to be
                                uploaded to a github issue.</p>
                            <button
                                    id="logDumpGenerateBtn"
                                    type="button"
                                    class="btn btn-info"
                                    href="#"
                                    aria-expanded="false"
                            >
                                <i class="fas fa-file-archive"></i> Log Dump <i id="logDumpSpinner"
                                                                                class="fas fa-spinner fa-spin d-none"></i>
                            </button>

                            <button
                                    id="logDumpDownloadBtn"
                                    type="button"
                                    class="btn btn-success d-none"
                                    href="#"
                                    aria-expanded="false"
                            >
                                <i class="fas fa-file-download"></i> Download Log Dump
                            </button>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-12">
            <div class="card text-white bg-dark">
                <div class="card-header dashHeader p-0">
                    <button
                            type="button"
                            class="btn btn-secondary float-left d-block ml-1 mr-1 p-1"
                            href="#"
                            aria-expanded="false"
                            disabled
                    >
                        <i class="far fa-id-card"></i> System Settings
                    </button>

                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-12 col-sm-12 col-md-3 col-lg-2 col-xl-2">
                            <div class="list-group" id="list-tab" role="tablist">
                                <a class="list-group-item list-group-item-action  active" id="system-accounts-list"
                                   data-toggle="list" href="#system-accounts" role="tab" aria-controls="panelview"><i
                                            class="far fa-user"></i> Accounts</a>
                                <a class="list-group-item list-group-item-action" id="system-client-list"
                                   data-toggle="list" href="#system-client" role="tab" aria-controls="listview"><i
                                            class="fas fa-stopwatch"></i> Client</a>
                                <% if(typeof userGroup != "undefined" && userGroup === "Administrator"){ %>
                                    <a class="list-group-item list-group-item-action" id="system-settings-list"
                                       data-toggle="list" href="#system-settings" role="tab" aria-controls="cameraview"><i
                                                class="fas fa-server"></i> Server</a>
                                    <a class="list-group-item list-group-item-action" id="system-alerts-list"
                                       data-toggle="list" href="#system-alerts" role="tab" aria-controls="listview"><i
                                                class="far fa-bell"></i> Alerts</a>
                                    <a class="list-group-item list-group-item-action" id="system-database-list"
                                       data-toggle="list" href="#system-database" role="tab" aria-controls="listview"><i
                                                class="fas fa-database"></i> Database</a>
                                    <a class="list-group-item list-group-item-action" id="system-status-list"
                                       data-toggle="list" href="#system-logs" role="tab" aria-controls="system"><i
                                                class="fas fa-sticky-note"></i> Logs</a>
                                <% } %>
                                <a class="list-group-item list-group-item-action" id="system-about-list"
                                   data-toggle="list" href="#system-about" role="tab" aria-controls="listview"><i
                                            class="fas fa-address-card"></i> About</a>

                            </div>
                        </div>
                        <div class="col-12 col-sm-12 col-md-9 col-lg-10 col-xl-10">
                            <div class="tab-content" id="nav-tabContent">
                                <div class="tab-pane fade" id="system-logs" role="tabpanel"
                                     aria-labelledby="server-status-list">
                                    <div class="row">
                                        <h5 class="float-left">Current Logs</h5>
                                        <hr>
                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                                            <table class="table-hover table table-dark">
                                                <thead>
                                                <tr>
                                                    <th scope="col">File Name</th>
                                                    <th scope="col">Last Modified</th>
                                                    <th scope="col">Size</th>
                                                    <th scope="col">Download</th>
                                                    <!--                                                    <th scope="col">Delete</th>-->
                                                </tr>
                                                </thead>
                                                <tbody id="serverLogs">

                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade show active" id="system-accounts" role="tabpanel"
                                     aria-labelledby="server-settings-list">
                                    <% if(typeof name != "undefined"){ %>
                                        <h6 class="dropdown-header">Account</h6>
                                        <p class="text-center"><i class="far fa-user"></i></p><br>
                                        <a class="dropdown-item text-center text-light" href="#"> <%= name; %></a>
                                        <a class="dropdown-item text-center text-light" data-toggle="modal"
                                           data-target="#userModal" href="#"><%= userGroup; %></a>
                                        <a class="dropdown-item text-center  text-light" href="/users/logout"><i
                                                    class="fas fa-sign-out-alt"></i>Sign Out</a>
                                    <% } %>
                                </div>
                                <div class="tab-pane fade" id="system-client" role="tabpanel"
                                     aria-labelledby="server-timeout">
                                    <div class="row">
                                        <div class="col-12 col-sm-12 col-md-4 col-lg-2 col-xl-2">
                                            <div class="list-group" id="list-tab" role="tablist">
                                                <a class="list-group-item list-group-item-action  active"
                                                   id="client-settings-list" data-toggle="list" href="#client-settings"
                                                   role="tab" aria-controls="system">General</a>
                                                <a class="list-group-item list-group-item-action"
                                                   id="system-monitoring-list" data-toggle="list"
                                                   href="#system-monitoring" role="tab"
                                                   aria-controls="dashboard">Views</a>
                                                <a class="list-group-item list-group-item-action"
                                                   id="system-dashboard-list" data-toggle="list"
                                                   href="#system-dashboard" role="tab" aria-controls="dashboard">Dashboard</a>
                                                <a class="list-group-item list-group-item-action"
                                                   id="system-printer-control-list" data-toggle="list"
                                                   href="#system-printer-control" role="tab" aria-controls="dashboard">Printer
                                                    Control</a>
                                                <button type="button" class="btn btn-success btn-block mt-1 bg-colour-2"
                                                        id="saveSettings">Save
                                                </button>
                                            </div>
                                        </div>
                                        <div class="col-12 col-sm-12 col-md-8 col-lg-10 col-xl-10">
                                            <div class="tab-content" id="nav-tabContent">
                                                <div class="tab-pane fade show active" id="client-settings"
                                                     role="tabpanel" aria-labelledby="client-settings-list">
                                                    <h5>General</h5>
                                                    <hr>
                                                    <div class="row">
                                                        <div class="col-12">
                                                            <p class="font-weight-bold">Change Background</p>
                                                            <p>Click the button below to upload your background
                                                                image.</p>
                                                            <small>NOTE: You may need to refresh your browser cache if
                                                                this doesn't apply straight away.</small>
                                                            <form action="/settings/backgroundUpload"
                                                                  enctype="multipart/form-data" method="POST">
                                                                <input class="btn bg-secondary" type="file"
                                                                       name="myFile"
                                                                       accept="image/jpeg,image/png,image/jpg"/>
                                                                <input id="backgroundSubmit" class="btn btn-primary"
                                                                       type="submit" value="Upload"
                                                                       accept="image/jpeg,image/png">
                                                            </form>
                                                            <p> Supports <code>PNG, JPG</code></p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="tab-pane fade" id="system-monitoring" role="tabpanel"
                                                     aria-labelledby="dashboard-monitoring-list">
                                                    <h5>Montitoring</h5>
                                                    <hr>
                                                    <p>Enable and disable different parts of the UI on the views
                                                        pages.</p>
                                                    <div class="row">
                                                        <div class="col-3">
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="panelCurrentOpOn" required>
                                                                    <label class="custom-control-label"
                                                                           for="panelCurrentOpOn">Current
                                                                        Operations</label>
                                                                    <div class="valid-feedback">Current Operations will
                                                                        be shown on the views.
                                                                    </div>
                                                                    <div class="invalid-feedback">Current Operations
                                                                        will not be shown on the views.
                                                                    </div>
                                                                </div>
                                                            </form>
                                                        </div>
                                                        <div class="col-3">
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="panelHideOffline" checked required>
                                                                    <label class="custom-control-label"
                                                                           for="panelHideOffline">Offline
                                                                        Printers</label>
                                                                    <div class="valid-feedback">Offline printers will be
                                                                        hidden from the views.
                                                                    </div>
                                                                    <div class="invalid-feedback">Offline printers will
                                                                        be shown on the views.
                                                                    </div>
                                                                </div>
                                                            </form>
                                                        </div>
                                                        <div class="col-3">
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="panelHideClosed" required>
                                                                    <label class="custom-control-label"
                                                                           for="panelHideClosed">Disconnected
                                                                        Printers</label>
                                                                    <div class="valid-feedback">Disconnected printers
                                                                        will be hidden from the views.
                                                                    </div>
                                                                    <div class="invalid-feedback">Disconnected printers
                                                                        will be shown on the views.
                                                                    </div>
                                                                </div>
                                                            </form>
                                                        </div>
                                                        <!--                                                    <div class="col-3">-->
                                                        <!--                                                        <form class="was-validated">-->
                                                        <!--                                                            <div class="custom-control custom-checkbox mb-3">-->
                                                        <!--                                                                <input type="checkbox" class="custom-control-input" id="panelHideIdle" required>-->
                                                        <!--                                                                <label class="custom-control-label" for="panelHideIdle">Hide Idle</label>-->
                                                        <!--                                                                <div class="valid-feedback">Idle printers will be hidden from the views.</div>-->
                                                        <!--                                                                <div class="invalid-feedback">Idle printers will be shown on the views.</div>-->
                                                        <!--                                                            </div>-->
                                                        <!--                                                        </form>-->
                                                        <!--                                                    </div>-->
                                                        <div class="col-12">
                                                            <p>Select how many columns you would like on each view
                                                                (excl. List View)</p>
                                                            <div class="alert alert-warning" role="alert">
                                                                This only takes effect on screen sizes larger than a
                                                                tablet.
                                                            </div>
                                                            <div class="input-group mb-3">
                                                                <div class="input-group-prepend">
                                                                    <label class="input-group-text"
                                                                           for="selectCameraGrid">Camera Columns</label>
                                                                </div>
                                                                <select class="custom-select" id="selectCameraGrid">
                                                                    <option value="12">1</option>
                                                                    <option value="6" selected>2</option>
                                                                    <option value="4">3</option>
                                                                    <option value="3">4</option>
                                                                    <option value="5">5</option>
                                                                    <option value="2">6</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="tab-pane fade" id="system-dashboard" role="tabpanel"
                                                     aria-labelledby="dashboard-settings-list">
                                                    <h5>Dashboard Settings</h5>
                                                    <hr>
                                                    <div class="row">
                                                        <div class="col-lg-12">
                                                            <button id="resetDashboardBtn" type="button"
                                                                    class="btn btn-danger">Reset Dashboard
                                                            </button>
                                                        </div>
                                                        <div class="col-lg-12">
                                                            <h5>Enable/Disable</h5>
                                                            <hr>
                                                            <p>Select which sections of your dasboard you'd like enabled
                                                                or disabled. Disabling a dashboard panel will hide it
                                                                from view.</p>
                                                        </div>
                                                        <div class="col-lg-4">
                                                            <h6 title="Current Operations block shows any currently active prints on the farm.">
                                                                Farm Activity</h6>
                                                            <hr>

                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="currentOperations" required>
                                                                    <label class="custom-control-label"
                                                                           for="currentOperations">Current
                                                                        Operations</label><br>

                                                                    <div class="valid-feedback">Shown</div>
                                                                    <div class="invalid-feedback">Hidden</div>
                                                                    <small><i class="fas fa-info-circle"></i> Shows the
                                                                        current active prints</small>
                                                                </div>
                                                            </form>
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="cumulativeTimes" checked required>
                                                                    <label class="custom-control-label"
                                                                           for="cumulativeTimes">Cumulative
                                                                        Times</label><br>

                                                                    <div class="valid-feedback">Shown</div>
                                                                    <div class="invalid-feedback">Hidden</div>
                                                                    <small><i class="fas fa-info-circle"></i> Totals up
                                                                        the Estimated, Remaining and Eslapsed time of
                                                                        active prints on the farm</small>
                                                                </div>
                                                            </form>
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="averageTimes" checked required>
                                                                    <label class="custom-control-label"
                                                                           for="averageTimes">Average Times</label><br>

                                                                    <div class="valid-feedback">Shown</div>
                                                                    <div class="invalid-feedback">Hidden</div>
                                                                    <small><i class="fas fa-info-circle"></i> Mean
                                                                        Averages of the Estimated, Remaining and
                                                                        Eslapsed time of active prints on the
                                                                        farm</small>
                                                                </div>
                                                            </form>
                                                        </div>
                                                        <div class="col-lg-4">
                                                            <h6 title="Printer Status blocks will show the last state grabbed of each instance. (these may need re-sizing to see all printers)">
                                                                Printer Status</h6>
                                                            <hr>
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="printerState" checked required>
                                                                    <label class="custom-control-label"
                                                                           for="printerState">State</label><br>

                                                                    <div class="valid-feedback">Shown</div>
                                                                    <div class="invalid-feedback">Hidden</div>
                                                                    <small><i class="fas fa-info-circle"></i> Grid that
                                                                        shows the individual printer states on the farm</small>
                                                                </div>
                                                            </form>
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="printerTemps" checked required>
                                                                    <label class="custom-control-label"
                                                                           for="printerTemps">Temps</label><br>

                                                                    <div class="valid-feedback">Shown</div>
                                                                    <div class="invalid-feedback">Hidden</div>
                                                                    <small><i class="fas fa-info-circle"></i> Grid that
                                                                        shows the individual printer temps on the
                                                                        farm</small>
                                                                </div>
                                                            </form>
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="printerUtilisation" checked required>
                                                                    <label class="custom-control-label"
                                                                           for="printerUtilisation">Utilisation</label><br>

                                                                    <div class="valid-feedback">Shown</div>
                                                                    <div class="invalid-feedback">Hidden</div>
                                                                    <small><i class="fas fa-info-circle"></i> Grid that
                                                                        shows the individual printer utilisation
                                                                        activitiy vs idle/offline time.</small>
                                                                </div>
                                                            </form>
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="printerProgress" checked required>
                                                                    <label class="custom-control-label"
                                                                           for="printerProgress">Progress</label><br>

                                                                    <div class="valid-feedback">Shown</div>
                                                                    <div class="invalid-feedback">Hidden</div>
                                                                    <small><i class="fas fa-info-circle"></i> Grid that
                                                                        shows the individual printer progress for active
                                                                        prints</small>
                                                                </div>
                                                            </form>
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="currentStatus" checked required>
                                                                    <label class="custom-control-label"
                                                                           for="currentStatus">Current
                                                                        Status</label><br>

                                                                    <div class="valid-feedback">Shown</div>
                                                                    <div class="invalid-feedback">Hidden</div>
                                                                    <small><i class="fas fa-info-circle"></i> Overview
                                                                        of all the printers status totalled into a bar
                                                                        graph</small>
                                                                </div>
                                                            </form>
                                                        </div>
                                                        <div class="col-lg-4">
                                                            <h6>Farm Utilisation</h6>
                                                            <hr>
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="weeklyUtilisation" checked required>
                                                                    <label class="custom-control-label"
                                                                           for="weeklyUtilisation">Weekly
                                                                        Utilisation</label><br>

                                                                    <div class="valid-feedback">Shown</div>
                                                                    <div class="invalid-feedback">Hidden</div>
                                                                    <small><i class="fas fa-info-circle"></i> Heat map
                                                                        showing the total percentages of printer states
                                                                        on the farm. Shows previous 7 days.</small>
                                                                </div>
                                                            </form>
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="currentUtilisation" checked required>
                                                                    <label class="custom-control-label"
                                                                           for="currentUtilisation">Current
                                                                        Utilisation</label><br>

                                                                    <div class="valid-feedback">Shown</div>
                                                                    <div class="invalid-feedback">Hidden</div>
                                                                    <small><i class="fas fa-info-circle"></i> Donut
                                                                        chart of total printers in Active/Idle/Offline
                                                                        states</small>
                                                                </div>
                                                            </form>
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="farmUtilisation" checked required>
                                                                    <label class="custom-control-label"
                                                                           for="farmUtilisation">Farm
                                                                        Utilisation</label><br>

                                                                    <div class="valid-feedback">Shown</div>
                                                                    <div class="invalid-feedback">Hidden</div>
                                                                    <small><i class="fas fa-info-circle"></i> Overview
                                                                        of the entire farms utilisation hours inc.
                                                                        Active/Failed/Idle/Offline</small>
                                                                </div>
                                                            </form>
                                                        </div>
                                                        <div class="col-lg-4">
                                                            <h6>Historical</h6>
                                                            <hr>
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="hourlyTotalTemperatures" required>
                                                                    <label class="custom-control-label"
                                                                           for="hourlyTotalTemperatures">Hourly Total
                                                                        Temperatures</label><br>
                                                                    <div class="valid-feedback">Shown</div>
                                                                    <div class="invalid-feedback">Hidden</div>
                                                                    <small><i class="fas fa-info-circle"></i> Graph
                                                                        showing the total tool/bed/chamber temperatures
                                                                        across the farm inc. total temp.</small>

                                                                </div>
                                                            </form>
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="printCompletionCheck" required>
                                                                    <label class="custom-control-label"
                                                                           for="printCompletionCheck">Print Completion
                                                                        By Day</label><br>
                                                                    <div class="valid-feedback">Shown</div>
                                                                    <div class="invalid-feedback">Hidden</div>
                                                                    <small><i class="fas fa-info-circle"></i> Graph
                                                                        showing counts of daily print completion
                                                                        totalled by day.</small>

                                                                </div>
                                                            </form>
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="filamentUsageCheck" required>
                                                                    <label class="custom-control-label"
                                                                           for="filamentUsageCheck">Filament Usage By
                                                                        Day</label><br>
                                                                    <div class="valid-feedback">Shown</div>
                                                                    <div class="invalid-feedback">Hidden</div>
                                                                    <small><i class="fas fa-info-circle"></i> Graph
                                                                        showing filament usage totally by day.</small>

                                                                </div>
                                                            </form>
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="filamentUsageOverTimeCheck" required>
                                                                    <label class="custom-control-label"
                                                                           for="filamentUsageOverTimeCheck">Filament
                                                                        Usage Over Time</label><br>
                                                                    <div class="valid-feedback">Shown</div>
                                                                    <div class="invalid-feedback">Hidden</div>
                                                                    <small><i class="fas fa-info-circle"></i> Graph
                                                                        showing filament usage summed up by day over
                                                                        time.</small>

                                                                </div>
                                                            </form>
                                                        </div>
                                                        <div class="col-lg-4">
                                                            <h6>Environmental</h6>
                                                            <hr>
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="environmentalHistory" required>
                                                                    <label class="custom-control-label"
                                                                           for="environmentalHistory">Environmental
                                                                        History</label><br>
                                                                    <div class="valid-feedback">Shown</div>
                                                                    <div class="invalid-feedback">Hidden</div>
                                                                    <small><i class="fas fa-info-circle"></i> Shows
                                                                        global Environmental data for room
                                                                        temperature/humidity/pressure/IAQ. To setup fire
                                                                        a POST request(requires Auth) to <code>/input/roomData</code>
                                                                        with the following format:<br> <code>{<br>
                                                                            temperature: value (C),<br>
                                                                            humidity: value (%),<br>
                                                                            iaq: value,<br>
                                                                            pressure: value (Pa)<br>
                                                                            date: value<br>
                                                                            }</code><br> Null values are required if
                                                                        data is missing!</small>

                                                                </div>
                                                            </form>
                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="tab-pane fade" id="system-printer-control" role="tabpanel"
                                                     aria-labelledby="dashboard-settings-list">
                                                    <h5>Printer Control Settings</h5>
                                                    <hr>
                                                    <div class="row">
                                                        <div class="col-3">
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="printerControlFilesFirst" required>
                                                                    <label class="custom-control-label"
                                                                           for="printerControlFilesFirst">Files
                                                                        First</label>
                                                                    <div class="valid-feedback">Show files at the top of
                                                                        the Printer Control Modal
                                                                    </div>
                                                                    <div class="invalid-feedback">Show files under
                                                                        Printer Status on the Printer Control Modal
                                                                    </div>
                                                                </div>
                                                            </form>
                                                        </div>
                                                    </div>

                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="system-settings" role="tabpanel"
                                     aria-labelledby="server-timeout">
                                    <div class="row">
                                        <div class="col-12 col-sm-12 col-md-4 col-lg-2 col-xl-2">
                                            <div class="list-group" id="list-tab" role="tablist">
                                                <a class="list-group-item list-group-item-action active"
                                                   id="server-settings-list" data-toggle="list" href="#server-settings"
                                                   role="tab" aria-controls="panelview"><i class="fas fa-cogs"></i>
                                                    System</a>
                                                <a class="list-group-item list-group-item-action"
                                                   id="server-timeout-list" data-toggle="list" href="#server-timeout"
                                                   role="tab" aria-controls="listview"><i class="fas fa-stopwatch"></i>
                                                    Timeout</a>
                                                <a class="list-group-item list-group-item-action"
                                                   id="server-history-list" data-toggle="list" href="#server-history"
                                                   role="tab" aria-controls="listview"><i class="fas fa-history"></i>
                                                    History</a>
                                                <a class="list-group-item list-group-item-action"
                                                   id="server-filament-list" data-toggle="list" href="#server-filament"
                                                   role="tab" aria-controls="listview"><i
                                                            class="fas fa-toilet-paper"></i> Filament Manager</a>
                                                <a class="list-group-item list-group-item-action"
                                                   id="server-influx-list" data-toggle="list" href="#server-influx"
                                                   role="tab" aria-controls="listview"><i class="fas fa-database"></i>
                                                    InfluxDB Export</a>
                                                <button type="button" class="btn btn-success btn-block mt-1 bg-colour-2"
                                                        id="saveServerSettings" data-dismiss="modal">Save
                                                </button>
                                            </div>
                                        </div>
                                        <div class="col-12 col-sm-12 col-md-8 col-lg-10 col-xl-10">
                                            <div class="tab-content" id="nav-tabContent">
                                                <div class="tab-pane fade show active" id="server-settings"
                                                     role="tabpanel" aria-labelledby="server-settings-list">
                                                    <h5>System Actions</h5>
                                                    <hr>
                                                    <% let systemButtonsDisabled = false; %>
                                                    <% if(serviceInformation?.isDockerContainer){ %>
                                                        <div class="alert alert-warning" role="alert">
                                                            The below buttons have all been disabled due to
                                                            Docker having it's own update mechanism
                                                            Please check the <a
                                                                    href="https://octofarm.net/installation">Installation
                                                                Instructions</a> for more information on how to update
                                                            your docker container.
                                                            up.
                                                        </div>
                                                        <% systemButtonsDisabled = true; %>
                                                    <% } %>
                                                    <% if(!serviceInformation?.isNodemon && !serviceInformation?.isPm2){ %>
                                                        <div class="alert alert-warning" role="alert">
                                                            The below buttons have all been disabled due to not been
                                                            able to detect the use of the pm2 process manager.
                                                            Please check the <a
                                                                    href="https://octofarm.net/installation">Installation
                                                                Instructions</a> for more information on how to set this
                                                            up.
                                                        </div>
                                                        <% systemButtonsDisabled = true; %>
                                                    <% } %>
                                                    <button title="Performs a restart of the OctoFarm service"
                                                            id="restartOctoFarmBtn" type="button"
                                                            <%= systemButtonsDisabled ? "disabled" : "" %>
                                                            class="btn btn-danger mb-3 btn-lg">
                                                        <i class="fas fa-sync"></i> Restart
                                                    </button>
                                                    <h5>OctoFarm Updates</h5>
                                                    <hr>
                                                    <button title="Performs a check for latest updates of OctoFarm"
                                                            id="checkUpdatesForOctoFarmBtn" type="button"
                                                            <%= systemButtonsDisabled ? "disabled" : "" %>
                                                            class="btn btn-info mb-3 btn-lg">
                                                        <i class="fab fa-github"></i> Check for Update
                                                    </button>
                                                    <button title="Performs an update command on OctoFarm to the latest version"
                                                            id="updateOctoFarmBtn" type="button"
                                                            class="btn btn-success mb-3 btn-lg"
                                                            disabled>
                                                        <i class="fas fa-thumbs-up"></i> Update OctoFarm
                                                    </button>
                                                    <h5>Server Settings</h5>
                                                    <hr>
                                                    <p class="font-weight-bold">Server Port</p>
                                                    <p>The port that OctoFarm will accept connections from for it's
                                                        inbuilt client.</p>
                                                    <p><b>Default</b>: 4000</p>
                                                    <div class="input-group mb-3">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">Port (disabled):</span>
                                                        </div>
                                                        <input id="serverPortNo" type="number" class="form-control"
                                                               placeholder="6" aria-label="Refresh Rate"
                                                               disabled
                                                               id="serverPortNumber" value="4000" step="1">

                                                    </div>
                                                    <small id="emailHelp" class="form-text text-muted">Requires a server
                                                        restart</small>
                                                    <hr>
                                                    <div class="row">
                                                        <div class="col-12">
                                                            <p class="font-weight-bold">Login and Registration</p>
                                                            <p>Change OctoFarm login/registration requirements. These
                                                                are both defaulted as true.</p>
                                                        </div>

                                                        <div class="col-md-12 col-lg-6">
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="requireLogin" required>
                                                                    <label class="custom-control-label"
                                                                           for="requireLogin">Require a login</label>
                                                                    <div class="valid-feedback">Login turned on</div>
                                                                    <div class="invalid-feedback">Login turned off</div>
                                                                </div>
                                                            </form>
                                                        </div>
                                                        <div class="col-md-12 col-lg-6">
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="requireRegistration" required>
                                                                    <label class="custom-control-label"
                                                                           for="requireRegistration">Registration</label>
                                                                    <div class="valid-feedback">Registration is turned
                                                                        on
                                                                    </div>
                                                                    <div class="invalid-feedback">Registration is turned
                                                                        off
                                                                    </div>
                                                                </div>
                                                            </form>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="tab-pane fade" id="server-timeout" role="tabpanel"
                                                     aria-labelledby="server-timeout">
                                                    <h5>Timeout Settings</h5>
                                                    <hr>
                                                    <p class="font-weight-bold">WebSocket Throttle</p>
                                                    <p>You may be trying to run OctoFarm/OctoPrint on a potato, which
                                                        I've no aversion too but the CPU on the potato might not like
                                                        it. If you find that to be the case then please increase the
                                                        throttle amount.</p>
                                                    <p>Currently the OctoPrint client will send a message every 500ms,
                                                        so the server will process at that rate.</p>

                                                    <p><b>Min</b>: 0.5 seconds (Default), <b>Max:</b> 10 seconds</p>

                                                    <div class="input-group mb-3">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">Throttle:</span>
                                                        </div>
                                                        <input id="webSocketThrottle" type="number" class="form-control"
                                                               placeholder="6" aria-label="Refresh Rate"
                                                               id="onlinePollRate" value="0.5" min="0.5" max="10"
                                                               step="0.5">
                                                        <div class="input-group-append">
                                                            <span class="input-group-text">Seconds</span>
                                                        </div>

                                                    </div>
                                                    <small class="form-text text-muted">Does not require a server
                                                        restart</small>
                                                    <hr>
                                                    <div class="row">
                                                        <div class="col-md-12 col-lg-6">
                                                            <p class="font-weight-bold">Websocket Retry</p>
                                                            <p>The interval in which OctoFarm will re-poll the websocket
                                                                when it detects a lost connection during operation. It
                                                                will re-poll at this rate until re-established.</p>

                                                            <p><b>Min</b>: 5 seconds (Default), <b>Max:</b> 30 seconds
                                                            </p>
                                                            <div class="input-group mb-3">
                                                                <div class="input-group-prepend">
                                                                    <span class="input-group-text">Websocket Retry:</span>
                                                                </div>
                                                                <input id="webSocketRetry" type="number"
                                                                       class="form-control" placeholder="6"
                                                                       aria-label="Refresh Rate" id="onlinePollRate"
                                                                       value="5" min="5" max="30" step="0.5">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">Seconds</span>
                                                                </div>

                                                            </div>
                                                            <small id="emailHelp" class="form-text text-muted">Requires
                                                                a server restart</small>
                                                            <hr>
                                                        </div>

                                                        <div class="col-md-6 col-lg-6">
                                                            <p class="font-weight-bold">API Initial Timeout</p>
                                                            <p>The timeout set for the initial connection attempt to
                                                                OctoPrints API when it hasn't managed to establish a
                                                                connection</p>
                                                            <p><b>Min</b>: 1 second (Default), <b>Max:</b> 10 seconds
                                                            </p>
                                                            <div class="input-group mb-3">
                                                                <div class="input-group-prepend">
                                                                    <span class="input-group-text">API Timeout:</span>
                                                                </div>
                                                                <input id="APITimeout" type="number"
                                                                       class="form-control" placeholder="6"
                                                                       aria-label="Refresh Rate" id="onlinePollRate"
                                                                       value="1" min="1" max="10" step="0.5">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">Seconds</span>
                                                                </div>

                                                            </div>
                                                            <small id="emailHelp" class="form-text text-muted">Requires
                                                                a server restart</small>
                                                            <hr>
                                                        </div>
                                                        <div class="col-md-6 col-lg-6">

                                                            <p class="font-weight-bold">API Secondary Timeout</p>
                                                            <p>The secondary timeout for slower OctoPrint connection
                                                                attempts to the API, when the first fails it will try
                                                                again with this number.</p>
                                                            <p><b>Min</b>: 5 seconds, <b>Max:</b> 60 seconds, <b>Default:</b>
                                                                10 seconds</p>
                                                            <div class="input-group mb-3">
                                                                <div class="input-group-prepend">
                                                                    <span class="input-group-text">Secondary API Timeout:</span>
                                                                </div>
                                                                <input id="APIRetryTimeout" type="number"
                                                                       class="form-control" placeholder="6"
                                                                       aria-label="Refresh Rate" id="onlinePollRate"
                                                                       value="10" min="5" max="60" step="0.5">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">Seconds</span>
                                                                </div>

                                                            </div>
                                                            <small id="emailHelp" class="form-text text-muted">Requires
                                                                a server restart</small>
                                                            <hr>
                                                        </div>
                                                        <div class="col-md-6 col-lg-6">
                                                            <p class="font-weight-bold">API Retry</p>
                                                            <p>The interval that OctoFarm will attempt another
                                                                connection to OctoPrint. Only really applicable if your
                                                                printer is offline when added to the farm.</p>
                                                            <p><b>Min</b>: 30 seconds (Default), <b>Max:</b> 60 seconds
                                                            </p>
                                                            <div class="input-group mb-3">
                                                                <div class="input-group-prepend">
                                                                    <span class="input-group-text">API Retry:</span>
                                                                </div>
                                                                <input id="APIRetry" type="number" class="form-control"
                                                                       placeholder="6" aria-label="Refresh Rate"
                                                                       id="onlinePollRate" value="30" min="30" max="60"
                                                                       step="0.5">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">Seconds</span>
                                                                </div>

                                                            </div>
                                                            <small id="emailHelp" class="form-text text-muted">Requires
                                                                a server restart</small>
                                                            <hr>
                                                        </div>
                                                    </div>


                                                </div>
                                                <div class="tab-pane fade" id="server-filament" role="tabpanel"
                                                     aria-labelledby="server-filament-list">
                                                    <h5>Filament Manager Settings</h5>
                                                    <hr>
                                                    <div id="filamentManagerSetup" class="row">
                                                        <div class="col-lg-12">
                                                            <h5>Check for filament selection before starting a
                                                                print?</h5>
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="checkFilament" required>
                                                                    <label class="custom-control-label"
                                                                           for="checkFilament">Filament Check</label>
                                                                    <div class="valid-feedback">Filament Check is turned
                                                                        on
                                                                    </div>
                                                                    <div class="invalid-feedback">Filament Check is
                                                                        turned off
                                                                    </div>
                                                                </div>
                                                            </form>
                                                        </div>
                                                        <div class="col-lg-12">
                                                            <h5>Filament Manager Sync</h5>
                                                            <p class="mb-1">Click the button below to activate filament
                                                                manager plugin and link it to OctoFarm. Please read the
                                                                notes below before proceeding.</p>
                                                            <small><b>Note:</b> OctoFarm expects filament manager
                                                                installed on every instance. If it isn't, and you
                                                                activate it you run the risk of some updates/selections
                                                                failing to register.</small>
                                                            <br>
                                                            <small><b>Note:</b> You must also have all these instances
                                                                setup with a postgres database. Without this you will
                                                                not be able to select filament on every
                                                                instance.</small>
                                                            <% if(serverSettings.filamentManager){ %>
                                                                <center>
                                                                    <button id="filamentManagerSyncBtn" type="button"
                                                                            class="btn btn-warning mb-1 btn-lg d-none"
                                                                            disabled><i class="fas fa-sync"></i><br>
                                                                        Filament Manager Sync'd
                                                                    </button>
                                                                    <br>
                                                                    <button id="resync-FilamentManager" type="button"
                                                                            class="btn btn-warning mb-1 btn-lg"><i
                                                                                class="fas fa-sync"></i><br> Re-Sync
                                                                        Filament Manager
                                                                    </button>
                                                                    <br>
                                                                    <button id="disable-FilamentManager" type="button"
                                                                            class="btn btn-danger mb-1 btn-lg"><i
                                                                                class="fas fa-skull-crossbones"></i><br>
                                                                        Disable Filament Manager
                                                                    </button>
                                                                </center>
                                                            <% }else{ %>
                                                                <center><br>
                                                                    <button id="filamentManagerSyncBtn" type="button"
                                                                            class="btn btn-warning mb-1 btn-lg"><i
                                                                                class="fas fa-sync"></i><br> Sync
                                                                        Filament Manager
                                                                    </button>
                                                                    <br></center>
                                                            <% } %>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="tab-pane fade" id="server-history" role="tabpanel"
                                                     aria-labelledby="server-history-list">
                                                    <h5>History Settings</h5>
                                                    <hr>
                                                    <div class="alert alert-secondary" role="alert">
                                                        OctoFarm has the ability to save a snapshot/thumbnail into
                                                        History. These options are turned on by default as it will check
                                                        if the thumbnail/camera url exist before actually saving.
                                                    </div>
                                                    <div class="alert alert-warning" role="alert">
                                                        If your running on Docker, make sure to mount "/app/images"
                                                        otherwise these will not persist reboots/upgrades.
                                                    </div>
                                                    <div id="filamentManagerSetup" class="row">
                                                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4">
                                                            <h6>Timelapse Capture</h6>
                                                            <div class="alert alert-warning" role="alert">
                                                                Timelapse must be turned on in OctoPrint for this to
                                                                work, then activated below. It is not turned on by
                                                                default and does not react to your OctoPrint setting.
                                                            </div>
                                                            <div class="alert alert-danger" role="alert">
                                                                This only works with the ".mp4" format for video types.
                                                                OctoPrint defaults to ".mpg". You can update this under
                                                                "Advanced Settings" in your OctoPrint instances "Webcam
                                                                & Timelapse" setting. Change the setting to "libx264".
                                                                <button id="setupTimelapseOctoPrint" type="button"
                                                                        class="btn btn-outline-dark btn-block mt-1">
                                                                    Setup Your Farm!
                                                                </button>
                                                            </div>
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="timelapseOnComplete" required>
                                                                    <label class="custom-control-label"
                                                                           for="timelapseOnComplete">On
                                                                        Completion</label>
                                                                    <div class="valid-feedback">On Complete timelapse
                                                                        will be downloaded to OctoPrint
                                                                    </div>
                                                                    <div class="invalid-feedback">On Complete timelapse
                                                                        is ignored
                                                                    </div>
                                                                </div>
                                                            </form>
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="timelapseOnFailure" required>
                                                                    <label class="custom-control-label"
                                                                           for="timelapseOnFailure">On Failure</label>
                                                                    <div class="valid-feedback">On Failure timelapse
                                                                        will be downloaded to OctoPrint
                                                                    </div>
                                                                    <div class="invalid-feedback">On Failure timelapse
                                                                        is ignored
                                                                    </div>
                                                                </div>
                                                            </form>
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="timelapseDelete" required>
                                                                    <label class="custom-control-label"
                                                                           for="timelapseDelete">Delete from
                                                                        OctoPrint</label>
                                                                    <div class="valid-feedback">Timelapses will be
                                                                        deleted once captured
                                                                    </div>
                                                                    <div class="invalid-feedback">Timelapses are not
                                                                        removed from OctoPrints storage
                                                                    </div>
                                                                </div>
                                                            </form>
                                                        </div>
                                                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4">
                                                            <h6>Printer snapshot capture</h6>
                                                            <div class="alert alert-warning" role="alert">
                                                                Requires an active camera URL in OctoFarm.
                                                            </div>
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="snapOnComplete" required>
                                                                    <label class="custom-control-label"
                                                                           for="snapOnComplete">On Complete</label>
                                                                    <div class="valid-feedback">On Complete snapshot
                                                                        turned on
                                                                    </div>
                                                                    <div class="invalid-feedback">On Complete snapshot
                                                                        turned off
                                                                    </div>
                                                                </div>
                                                            </form>
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="snapOnFailure" required>
                                                                    <label class="custom-control-label"
                                                                           for="snapOnFailure">On Failure</label>
                                                                    <div class="valid-feedback">On Failure snapshot
                                                                        turned on
                                                                    </div>
                                                                    <div class="invalid-feedback">On Failure snapshot
                                                                        turned off
                                                                    </div>
                                                                </div>
                                                            </form>
                                                        </div>
                                                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4">
                                                            <h6>Prusa/Cura slicer thumbnailcapture</h6>
                                                            <div class="alert alert-warning" role="alert">
                                                                Requires either the Prusa / Cura thumbnail plugins to be
                                                                installed on OctoPrint.
                                                            </div>
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="thumbOnComplete" required>
                                                                    <label class="custom-control-label"
                                                                           for="thumbOnComplete">On Complete</label>
                                                                    <div class="valid-feedback">On Complete snapshot
                                                                        turned on
                                                                    </div>
                                                                    <div class="invalid-feedback">On Complete snapshot
                                                                        turned off
                                                                    </div>
                                                                </div>
                                                            </form>
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="thumbOnFailure" required>
                                                                    <label class="custom-control-label"
                                                                           for="thumbOnFailure">On Failure</label>
                                                                    <div class="valid-feedback">On Failure snapshot
                                                                        turned on
                                                                    </div>
                                                                    <div class="invalid-feedback">On Failure snapshot
                                                                        turned off
                                                                    </div>
                                                                </div>
                                                            </form>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="tab-pane fade" id="server-influx" role="tabpanel"
                                                     aria-labelledby="server-influx-list">
                                                    <h5>InfluxDB Export (v1.x)</h5>
                                                    <p>(Currently Experimental - May change formatting see blue
                                                        information note)</p>
                                                    <hr>
                                                    <div class="alert alert-secondary" role="alert">
                                                        OctoFarm can export your printer data to a time series database
                                                        called InfluxDB. You can use this data to create yourself a
                                                        dashboard in an application called Grafana or InfluxDB itself.
                                                        Other options are also available. This option is for power users
                                                        who would like to get more information from the data stored in
                                                        OctoFarm.
                                                    </div>
                                                    <div class="alert alert-info" role="alert">
                                                        I'm quite new to time series databases so if there's a tag or a
                                                        change/addition to the information format that you'd like please
                                                        let me know on github issues and I'll see what I can do.
                                                    </div>
                                                    <div class="alert alert-warning" role="alert">
                                                        You must already have influxDB setup and working to be able to
                                                        use this feature. A restart will be required after saving the
                                                        settings to correctly enable.
                                                    </div>
                                                    <div class="alert alert-secondary" role="alert" id="influxParent">
                                                        <p>This will activate the exporting of the following
                                                            measurements you can grab from InfluxDB: (click a button to
                                                            expand data view)</p>
                                                        <p>
                                                            <button class="btn btn-primary" type="button"
                                                                    data-toggle="collapse"
                                                                    data-target="#collapseExample1"
                                                                    aria-expanded="false"
                                                                    aria-controls="collapseExample1">
                                                                Printers Information
                                                            </button>
                                                            <button class="btn btn-primary" type="button"
                                                                    data-toggle="collapse"
                                                                    data-target="#collapseExample2"
                                                                    aria-expanded="false"
                                                                    aria-controls="collapseExample2">
                                                                History Information
                                                            </button>
                                                            <button class="btn btn-primary" type="button"
                                                                    data-toggle="collapse"
                                                                    data-target="#collapseExample3"
                                                                    aria-expanded="false"
                                                                    aria-controls="collapseExample3">
                                                                Filament Information
                                                            </button>
                                                        </p>
                                                        <div class="collapse" id="collapseExample1"
                                                             data-parent="#influxParent">
                                                            <div class="alert alert-dark" role="alert">
                                                                Printer information is dumped every 2000ms (2 seconds).
                                                                This will dump a record for each printer in your farm
                                                                with the information below.
                                                            </div>
                                                            <h3>Available Tags:</h3>
                                                            <code>
                                                                name:<br>
                                                                group:<br>
                                                                url:<br>
                                                                state:<br>
                                                                stateCategory:<br>
                                                                host_state:<br>
                                                                websocket_state:<br>
                                                                octoprint_version: <br>
                                                            </code>
                                                            <h3>Information:</h3>
                                                            <code>
                                                                state: 'Operational',<br>
                                                                state_category: 'Idle',<br>
                                                                camera_url: 'http://192.168.1.5:5005'<br>
                                                                current_idle_time: 21090000,<br>
                                                                current_active_time: 0,<br>
                                                                current_offline_time: 120000,<br>
                                                                date_added: 1606553431625,<br>
                                                                storage_free: 27261640704,<br>
                                                                storage_total: 41214558208,<br>
                                                                timestamp: 1607515805197,<br>
                                                                job_resends: '0 / 0.008K (0)',<br>
                                                                job_file_name: 'Top_-_0.32mm_-_T230-B75.gcode',<br>
                                                                job_file_display: 'Top - 0.32mm - T230-B75.gcode',<br>
                                                                job_file_path: 'Top_-_0.32mm_-_T230-B75.gcode',<br>
                                                                job_expected_completion_date: 'Wed Dec 09 2020:
                                                                12:10',<br>
                                                                job_expected_print_time: 22502.662743896966,<br>
                                                                job_expected_print_cost: '0.31',<br>
                                                                job_average_print_time: 1478.9511556103555,<br>
                                                                job_last_print_time: 1454.8682077580597,<br>
                                                                job_thumbnail:
                                                                'plugin/prusaslicerthumbnails/thumbnail/Top_-_0.32mm_-_T23
                                                                0-B75.png?20201112052916',<br>
                                                                tool_0_spool_name: 'Spooler',<br>
                                                                tool_0_spool_used: '0',<br>
                                                                tool_0_spool_weight: '1000',<br>
                                                                tool_0_spool_temp_offset: '0',<br>
                                                                tool_0_spool_material: 'PETG',<br>
                                                                tool0_actual: 21.3,<br>
                                                                tool0_target: 0,<br>
                                                                bed_actual: 21.3,<br>
                                                                bed_target: 0,<br>
                                                                chamber_actual: 0,<br>
                                                                chamber_target: 0<br>
                                                            </code>
                                                        </div>
                                                        <div class="collapse" id="collapseExample2"
                                                             data-parent="#influxParent">
                                                            <div class="alert alert-dark" role="alert">
                                                                History information will be sent when a print is logged
                                                                as completed or failed (cancelled / error).
                                                            </div>
                                                            <div class="alert alert-warning" role="alert">
                                                                If you don't use the Filament Manager plugin then there
                                                                will be 0 grams in the used_difference and used_spool
                                                                fields as it is not tracked without that.
                                                            </div>
                                                            <h3>Available Tags:</h3>
                                                            <code>
                                                                state: <br>
                                                                printer_name: <br>
                                                                file_name: <br>
                                                            </code>
                                                            <h3>Information:</h3>
                                                            <code>
                                                                id: 5fd22d8e916f61b240b98ff6,<br>
                                                                index: 248,<br>
                                                                state: 'Success',<br>
                                                                printer_name: 'Bob Sagget',<br>
                                                                start_date: 1607609684000,<br>
                                                                end_date: 1607609742000,<br>
                                                                print_time: 57,<br>
                                                                file_name:
                                                                '40mmcube_-_0.94em_-_0.16mm_-_T225-B60.gcode',<br>
                                                                file_upload_date: 1605450153,<br>
                                                                file_path:
                                                                '40mmcube_-_0.94em_-_0.16mm_-_T225-B60.gcode',<br>
                                                                file_size: 136901,<br>
                                                                file_average_print_time: 51.45868224582051,<br>
                                                                file_last_print_time: 57.42492285405751,<br>
                                                                notes: '',<br>
                                                                job_estimated_print_time: 645.8605059989957,<br>
                                                                job_actual_print_time: 57,<br>
                                                                job_print_time_accuracy: -103308.86070157819,<br>
                                                                cost_printer: 0,<br>
                                                                cost_spool: 0,<br>
                                                                cost_total: 0,<br>
                                                                cost_per_hour: 0,<br>
                                                                total_volume: 1.6647433548656279,<br>
                                                                total_length: 0.6921198599999999,<br>
                                                                total_weight: 2.0642817600333787,<br>
                                                                job_resends: '34 / 41.286K (0)' <br>

                                                            </code>
                                                        </div>
                                                        <div class="collapse" id="collapseExample3"
                                                             data-parent="#influxParent">
                                                            <div class="alert alert-dark" role="alert">
                                                                Spool information will be logged everytime a print has
                                                                completed.
                                                            </div>
                                                            <div class="alert alert-warning" role="alert">
                                                                If you don't use the Filament Manager plugin then there
                                                                will be 0 grams in the "used_difference" and
                                                                "used_spool" fields as it is not tracked without that.
                                                            </div>
                                                            <h3>Available Tags:</h3>
                                                            <code>
                                                                state: <br>
                                                                printer_name: <br>
                                                                file_name: <br>
                                                            </code>
                                                            <h3>Information:</h3>
                                                            <code>
                                                                name: 'Spooler',<br>
                                                                price: 25,<br>
                                                                weight: 1000,<br>
                                                                used_difference: 15.55, <br>
                                                                used_spool: 225.45, <br>
                                                                temp_offset: 0,<br>
                                                                spool_manufacturer: 'Eryone',<br>
                                                                spool_material: 'PETG',<br>
                                                                spool_density: 1.27,<br>
                                                                spool_diameter: 1.75<br>

                                                            </code>
                                                        </div>
                                                        <!-- File Manager: -->
                                                    </div>

                                                    <div id="filamentManagerSetup" class="row">
                                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                                                            <h6>Activate</h6>
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="infActivateInfluxExport" required>
                                                                    <label class="custom-control-label"
                                                                           for="infActivateInfluxExport">Activated?</label>
                                                                    <div class="valid-feedback">InfluxDB Export is
                                                                        activated.
                                                                    </div>
                                                                    <div class="invalid-feedback">InfluxDB Export is
                                                                        de-activated.
                                                                    </div>
                                                                </div>
                                                            </form>
                                                            <form>
                                                                <h6>Connection Settings</h6>
                                                                <div class="row">
                                                                    <div class="col">
                                                                        <div class="input-group mb-3">
                                                                            <div class="input-group-prepend">
                                                                                <span class="input-group-text"
                                                                                      id="infHostIPe">Host IP Address: </span>
                                                                            </div>
                                                                            <input id="infHostIP" type="text"
                                                                                   class="form-control"
                                                                                   placeholder="192.168.1.5"
                                                                                   aria-label="Username"
                                                                                   aria-describedby="infHostIPe">
                                                                        </div>
                                                                    </div>
                                                                    <div class="col">
                                                                        <div class="input-group mb-3">
                                                                            <div class="input-group-prepend">
                                                                                <span class="input-group-text"
                                                                                      id="infHostPorte">Host Port: </span>
                                                                            </div>
                                                                            <input id="infHostPort" type="text"
                                                                                   class="form-control"
                                                                                   placeholder="8086"
                                                                                   aria-label="Username"
                                                                                   aria-describedby="infHostPorte">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col">
                                                                        <div class="input-group mb-3">
                                                                            <div class="input-group-prepend">
                                                                                <span class="input-group-text"
                                                                                      id="infUsernamee">Username: </span>
                                                                            </div>
                                                                            <input id="infUsername" type="text"
                                                                                   class="form-control" placeholder=""
                                                                                   aria-label="Username"
                                                                                   aria-describedby="infUsernamee">
                                                                        </div>
                                                                    </div>
                                                                    <div class="col">
                                                                        <div class="input-group mb-3">
                                                                            <div class="input-group-prepend">
                                                                                <span class="input-group-text"
                                                                                      id="infPassworde">Password: </span>
                                                                            </div>
                                                                            <input id="infPassword" type="text"
                                                                                   class="form-control" placeholder=""
                                                                                   aria-label="Username"
                                                                                   aria-describedby="infPassworde">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <h6>Database Settings</h6>
                                                                <div class="row">
                                                                    <div class="col">
                                                                        <div class="input-group mb-3">
                                                                            <div class="input-group-prepend">
                                                                                <span class="input-group-text"
                                                                                      id="infDatabasee">Database Name: </span>
                                                                            </div>
                                                                            <input id="infDatabase" type="text"
                                                                                   class="form-control"
                                                                                   placeholder="OctoFarmExport"
                                                                                   aria-label="Username"
                                                                                   aria-describedby="infDatabasee">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <h6>Retention Policy (Advanced)</h6>
                                                                <div class="row">
                                                                    <div class="col">
                                                                        <div class="input-group mb-3">
                                                                            <div class="input-group-prepend">
                                                                                <span class="input-group-text"
                                                                                      id="infDuration">Duration: </span>
                                                                            </div>
                                                                            <input type="text" class="form-control"
                                                                                   placeholder="365d"
                                                                                   aria-label="Username"
                                                                                   aria-describedby="infDuration">
                                                                        </div>
                                                                    </div>
                                                                    <div class="col">
                                                                        <div class="input-group mb-3">
                                                                            <div class="input-group-prepend">
                                                                                <span class="input-group-text"
                                                                                      id="infReplication">Replication: </span>
                                                                            </div>
                                                                            <input type="text" class="form-control"
                                                                                   placeholder="1" aria-label="Username"
                                                                                   aria-describedby="infReplication">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </form>
                                                            <form class="was-validated">
                                                                <div class="custom-control custom-checkbox mb-3">
                                                                    <input type="checkbox" class="custom-control-input"
                                                                           id="infRetention" required>
                                                                    <label class="custom-control-label"
                                                                           for="infRetention">Default Retention?</label>
                                                                    <div class="valid-feedback">Using default retention
                                                                        settings.
                                                                    </div>
                                                                    <div class="invalid-feedback">Not using default
                                                                        retention settings.
                                                                    </div>
                                                                </div>
                                                            </form>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="system-alerts" role="tabpanel"
                                     aria-labelledby="server-database-list">
                                    <div class="row">
                                        <div class="col-12 col-sm-12 col-md-12 col-lg-2 col-xl-2">
                                            <div class="list-group" id="list-tab" role="tablist">
                                                <a class="list-group-item list-group-item-action  active"
                                                   id="alerts-new-list" data-toggle="list" href="#alerts-new" role="tab"
                                                   aria-controls="system"><i class="fas fa-plus"></i> New</a>
                                                <a class="list-group-item list-group-item-action"
                                                   id="alerts-current-list" data-toggle="list" href="#alerts-current"
                                                   role="tab" aria-controls="panelview"><i class="fas fa-list"></i>
                                                    Current</a>
                                                <!--                                    <a class="list-group-item list-group-item-action" id="alerts-log-list" data-toggle="list" href="#alerts-log" role="tab" aria-controls="listview"><i class="fas fa-clipboard-list"></i> Logs</a>-->
                                            </div>
                                            <button id="testScript" type="button"
                                                    class="btn btn-warning btn-block mt-1 bg-colour-1">Test Script
                                            </button>
                                            <button id="saveScript" type="button"
                                                    class="btn btn-success btn-block bg-colour-2">Save Script
                                            </button>
                                        </div>
                                        <div class="col-12 col-sm-12 col-md-12 col-lg-10 col-xl-10">
                                            <div class="tab-content" id="nav-tabContent">
                                                <div class="tab-pane fade show active" id="alerts-new" role="tabpanel"
                                                     aria-labelledby="server-status-list">
                                                    <h5>New Alert</h5>
                                                    <hr>
                                                    <p class="mb-0">Alerts are managed by the OctoFarm server.</p>
                                                    <p>NOTE: If you want to pass through information to your script then
                                                        it needs to allow for a single variable, the message you input
                                                        below will be passed into that variable before sending.</p>
                                                    <p>List of available tags here: <a class="" data-toggle="collapse"
                                                                                       href="#variableList"
                                                                                       role="button"
                                                                                       aria-expanded="false"
                                                                                       aria-controls="variableList">
                                                            Variable List
                                                        </a></p>
                                                    <div class="collapse" id="variableList">
                                                        <div class="card card-body">
                                                            <div class="col-lg-12 table-responsive-sm table-responsive-md">
                                                                <table class="table-hover table table-dark text-center">
                                                                    <thead>
                                                                    <tr>
                                                                        <th class="table-dark" scope="col"
                                                                            width="200px">Variable
                                                                        </th>
                                                                        <th class="table-dark" scope="col">Example</th>
                                                                        <th class="table-dark" scope="col">Notes</th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody id="historyTable">
                                                                    <tr>
                                                                        <td><code>[PrinterName]</code></td>
                                                                        <td>CR10</td>
                                                                        <td>Defaults to <code>[PrinterURL]</code> if not
                                                                            available.
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td><code>[PrinterURL]</code></td>
                                                                        <td>http://192.168.1.124:5000</td>
                                                                        <td></td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td><code>[PrinterAPIKey]</code></td>
                                                                        <td>ECB8BBB91F204F55AC80A47A3DC0A7F2</td>
                                                                        <td></td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td><code>[TimeRemaining]</code></td>
                                                                        <td>3 Hrs, 48 Mins, 48 Seconds</td>
                                                                        <td>"No Time Estimate" will be shown if not
                                                                            available
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td><code>[EstimatedTime]</code></td>
                                                                        <td>5 Days, 24 Hrs, 10 Mins, 48 Seconds</td>
                                                                        <td>"No Estimated Time Available" will be shown
                                                                            if not available
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td><code>[CurrentZ]</code></td>
                                                                        <td>25.5mm</td>
                                                                        <td>"No Current Z" will be shown if not
                                                                            available
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td><code>[PercentRemaining]</code></td>
                                                                        <td>55%</td>
                                                                        <td>"No Percent Available" will be shown if not
                                                                            available
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td><code>[ETA]</code></td>
                                                                        <td>Tue Jun 02 2020: 02:47:17</td>
                                                                        <td>"No Percent Available" will be shown if not
                                                                            available
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td><code>[CurrentTime]</code></td>
                                                                        <td>Web Jun 15 2020: 05:34:11</td>
                                                                        <td></td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td><code>[CurrentFile]</code></td>
                                                                        <td>dickasaurous.gcode</td>
                                                                        <td>"No selected file" will be shown if not
                                                                            available
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td><code>[CurrentFilePath]</code></td>
                                                                        <td>/lewd/dickasaurous.gcode</td>
                                                                        <td>"No selected file" will be shown if not
                                                                            available
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td><code>[Tool0Temp]</code></td>
                                                                        <td>T:220C / A:220C</td>
                                                                        <td>"No tool0 temperature" will be shown if not
                                                                            available
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td><code>[BedTemp]</code></td>
                                                                        <td>T:60C / A:60C</td>
                                                                        <td>"No bed temperature" will be shown if not
                                                                            available
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td><code>[Error!]</code></td>
                                                                        <td>Thermal Runaway detected! Halting printer
                                                                        </td>
                                                                        <td>"No error" If not available</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td><code>[historyID]</code></td>
                                                                        <td>5f76e9e99c99832cd8fef414</td>
                                                                        <td>"history id undefined" if not available,
                                                                            only works on Print Done, Print Failed,
                                                                            Print Error.
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <form>
                                                        <div class="form-row">
                                                            <div class="form-group col-md-6">
                                                                <label>Choose the initial trigger for the alert</label>
                                                                <div class="input-group">
                                                                    <div class="input-group-prepend">
                                                                        <label class="input-group-text"
                                                                               for="alertsTrigger">Trigger</label>
                                                                    </div>
                                                                    <select class="custom-select" id="alertsTrigger">

                                                                    </select>
                                                                </div>
                                                            </div>
                                                            <div class="form-group col-md-6">
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="scriptLocation">Input the current script
                                                                location (must be reachable by OctoFarm and have
                                                                permissions to execute)</label>
                                                            <input type="text" class="form-control" id="scriptLocation"
                                                                   placeholder="/home/octofarm/printAlert">
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="scriptMessage">Input the message that is passed
                                                                through to the script.</label>
                                                            <textarea id="scriptMessage" class="form-control"
                                                                      aria-label="With textarea"
                                                                      placeholder="[PrinterName]: Just completed [CurrentFilePath] and took [EstimatedTime]"></textarea>
                                                        </div>

                                                    </form>
                                                </div>
                                                <div class="tab-pane fade" id="alerts-current" role="tabpanel"
                                                     aria-labelledby="server-settings-list">
                                                    <h5>Current Alerts</h5>
                                                    <hr>
                                                    <div class="col-lg-12 table-responsive-sm table-responsive-md">
                                                        <table class="table-hover table table-dark text-center">
                                                            <thead>
                                                            <tr>
                                                                <th class="table-dark d-none" scope="col"></th>
                                                                <th class="table-dark" scope="col">Active</th>
                                                                <th class="table-dark" scope="col" width="150px">
                                                                    Trigger
                                                                </th>
                                                                <th class="table-dark" scope="col">Script</th>
                                                                <th class="table-dark" scope="col">Message</th>
                                                                <th class="table-dark" scope="col">Printers</th>
                                                                <th class="table-dark" scope="col" width="200px"></th>
                                                            </tr>
                                                            </thead>
                                                            <tbody id="alertsTable">

                                                            </tbody>

                                                        </table>

                                                    </div>
                                                </div>
                                                <div class="tab-pane fade" id="alerts-log" role="tabpanel"
                                                     aria-labelledby="server-timeout">
                                                    <h5>Alert Logs</h5>
                                                    <hr>
                                                </div>


                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="system-database" role="tabpanel"
                                     aria-labelledby="server-filament-list">
                                    <h5>Database Settings</h5>
                                    <hr>
                                    <p>Current Database URL used for keeping all your farm information.</p>
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon3">Database URL: </span>
                                        </div>
                                        <input type="text" class="form-control" id="basic-url"
                                               aria-describedby="basic-addon3" value="<%= db; %>" disabled>
                                    </div>
                                    <br>
                                    <h5>Database Actions</h5>
                                    <hr>
                                    <p class="mb-1">Actions to perform at the database level.</p>

                                    <small>Below are some actions you can perform on your database.</small><br>

                                    <br>
                                    <h6>Export the Database to .json</h6>
                                    <hr>
                                    <p class="mb-1">Primarily used by the developers to better understand an issue you
                                        have logged. Press a button below to export your database into a .json file.</p>
                                    <center>
                                        <button id="exportAlerts" type="button"
                                                class="btn btn-warning btn-lg bg-colour-1"><i
                                                    class="fas fa-history"></i> <br> Export Alerts
                                        </button>
                                        <button id="exportClientSettings" type="button"
                                                class="btn btn-info btn-lg bg-colour-2"><i class="fas fa-cog"></i><br>
                                            Export Client Settings
                                        </button>
                                        <button id="exportFilament" type="button"
                                                class="btn btn-primary btn-lg bg-colour-3"><i
                                                    class="fas fa-toilet-paper"></i><br> Export Filament
                                        </button>
                                        <button id="exportHistory" type="button"
                                                class="btn btn-danger btn-lg bg-colour-4"><i class="fas fa-history"></i>
                                            <br> Export History
                                        </button>
                                        <button id="exportPrinters" type="button"
                                                class="btn btn-warning btn-lg bg-colour-1"><i
                                                    class="fas fa-print"></i><br> Export Printers
                                        </button>
                                        <button id="exportRoomData" type="button"
                                                class="btn btn-info btn-lg bg-colour-2"><i class="fas fa-print"></i><br>
                                            Export Room Data
                                        </button>
                                        <button id="exportServerSettings" type="button"
                                                class="btn btn-primary btn-lg bg-colour-3"><i
                                                    class="fas fa-cog"></i><br> Export Server Settings
                                        </button>
                                        <button id="exportUsers" type="button"
                                                class="btn btn-secondary btn-lg bg-colour-4"><i
                                                    class="fas fa-users"></i><br> Export Users
                                        </button>
                                    </center>
                                    <br>
                                    <h6>Nuke the Database</h6>
                                    <hr>
                                    <p class="mb-1">This should only be used as a last resort. You will clear out your
                                        entire database so it's best to have a backup in place before even thinking of
                                        actioning the below options.</p>
                                    <code>WARNING! Do not mess around with this unless you have a backup in place and/or
                                        know what your doing...</code>
                                    <center>
                                        <button id="nukeAlerts" type="button"
                                                class="btn btn-warning btn-lg bg-colour-1"><i
                                                    class="fas fa-history"></i> <br> Nuke Alerts
                                        </button>
                                        <button id="nukeClientSettings" type="button"
                                                class="btn btn-info btn-lg bg-colour-2"><i class="fas fa-cog"></i><br>
                                            Nuke Client Settings
                                        </button>
                                        <button id="nukeFilament" type="button"
                                                class="btn btn-primary btn-lg bg-colour-3"><i
                                                    class="fas fa-toilet-paper"></i><br> Nuke Filament
                                        </button>
                                        <button id="nukeHistory" type="button"
                                                class="btn btn-danger btn-lg bg-colour-4"><i class="fas fa-history"></i>
                                            <br> Nuke History
                                        </button>
                                        <button id="nukePrinters" type="button"
                                                class="btn btn-warning btn-lg bg-colour-1"><i
                                                    class="fas fa-print"></i><br> Nuke Printers
                                        </button>
                                        <button id="nukeRoomData" type="button" class="btn btn-info btn-lg bg-colour-2">
                                            <i class="fas fa-print"></i><br> Nuke Room Data
                                        </button>
                                        <button id="nukeServerSettings" type="button"
                                                class="btn btn-primary btn-lg bg-colour-3"><i
                                                    class="fas fa-cog"></i><br> Nuke Server Settings
                                        </button>
                                        <button id="nukeUsers" type="button"
                                                class="btn btn-secondary btn-lg bg-colour-4"><i
                                                    class="fas fa-users"></i><br> Nuke Users
                                        </button>
                                        <br>
                                        <button id="nukeEverything" type="button"
                                                class="btn btn-danger mb-1 btn-lg mt-2"><i
                                                    class="fas fa-database"></i><br> Nuke Everything
                                        </button>
                                    </center>

                                </div>
                                <div class="tab-pane fade" id="system-about" role="tabpanel"
                                     aria-labelledby="server-filament-list">
                                    <div class="row">
                                        <div class="col-lg-6">
                                            <center>
                                                <p>OctoFarm is the creation of James Mackay from <a
                                                            href="https://notexpectedyet.com">NotExpectedYet</a> which
                                                    is also one of his personal projects. It was designed after using
                                                    the wonderful software Octoprint for well over a year
                                                    before getting his second printer. Realising he could only
                                                    control/monitor one printer from the Octoprint interface he decided
                                                    to write his own implementation using the API in Octoprint. This
                                                    spawned OctoFarm which is used
                                                    currently for monitoring and managing multiple Octoprint attached
                                                    printers. <br>If you would like to say thanks to James for designing
                                                    this free and open source software package then feel free to send
                                                    him a donation using the
                                                    button below.</p>
                                                <p><a href="https://www.patreon.com/bePatron?u=19808757"
                                                      target="_blank">
                                                        <button type="button" class="btn btn-danger">Become a Patreon!
                                                        </button>
                                                    </a></p>
                                                <p>
                                                    <a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=QGBJML3E7268L&source=url"
                                                       target="_blank">
                                                        <button type="button" class="btn btn-info">Paypal Donation!
                                                        </button>
                                                    </a></p>
                                            </center>
                                        </div>
                                        <div class="col-lg-6">
                                            <center>
                                                <div class="row">
                                                    <div class="col-12">
                                                        <h5>Big thanks to the following Supporters!</h5>
                                                    </div>

                                                    <div class="col-6">
                                                        <ul class="list-group">
                                                            <li class="list-group-item">Derek Kirkendall<i
                                                                        style="color:gold;" class="fas fa-trophy"></i>
                                                            </li>
                                                            <li class="list-group-item">Kyle Menigoz <i
                                                                        style="color:gold;" class="fas fa-trophy"></i>
                                                            </li>
                                                            <li class="list-group-item">Insertion <i style="color:gold;"
                                                                                                     class="fas fa-trophy"></i>
                                                            </li>
                                                            <li class="list-group-item">lactose <i style="color:gold;"
                                                                                                   class="fas fa-trophy"></i>
                                                            </li>
                                                            <li class="list-group-item">Scott Windmiller <i
                                                                        style="color:gold;" class="fas fa-trophy"></i>
                                                            </li>
                                                            <li class="list-group-item">Curtis Brooks <i
                                                                        style="color:gold;" class="fas fa-trophy"></i>
                                                            </li>
                                                            <li class="list-group-item">Scott Presbrey <i
                                                                        style="color:gold;" class="fas fa-trophy"></i>
                                                            </li>
                                                            <li class="list-group-item">Michael Portsmore <i
                                                                        style="color:gold;" class="fas fa-trophy"></i>
                                                            </li>
                                                            <li class="list-group-item">3DCT<i style="color:gold;"
                                                                                               class="fas fa-trophy"></i>
                                                            </li>
                                                            <li class="list-group-item">Alexander Wang<i
                                                                        style="color:gold;" class="fas fa-trophy"></i>
                                                            </li>
                                                            <li class="list-group-item">Chadd Giesing<i
                                                                        style="color:gold;" class="fas fa-trophy"></i>
                                                            </li>
                                                            <li class="list-group-item">Nick Darrow<i
                                                                        style="color:gold;" class="fas fa-trophy"></i>
                                                            </li>
                                                            <li class="list-group-item">Daniel Bluhm<i
                                                                        style="color:gold;" class="fas fa-trophy"></i>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                    <div class="col-6">
                                                        <ul class="list-group">
                                                            <li class="list-group-item">Guy Barton<i style="color:gold;"
                                                                                                     class="fas fa-trophy"></i>
                                                            </li>
                                                            <li class="list-group-item">EIPS<i style="color:gold;"
                                                                                               class="fas fa-trophy"></i>
                                                            </li>
                                                            <li class="list-group-item">Will Nelson<i
                                                                        style="color:gold;" class="fas fa-trophy"></i>
                                                            </li>
                                                            <li class="list-group-item">George McCauley<i
                                                                        style="color:gold;" class="fas fa-trophy"></i>
                                                            </li>
                                                            <li class="list-group-item">David Peters <i
                                                                        style="color:gold;" class="fas fa-trophy"></i>
                                                            </li>
                                                            <li class="list-group-item">Paul Helinski <i
                                                                        style="color:gold;" class="fas fa-trophy"></i>
                                                            </li>
                                                            <li class="list-group-item">Alex Wiecke <i
                                                                        style="color:gold;" class="fas fa-trophy"></i>
                                                            </li>
                                                            <li class="list-group-item">Josh Wright<i
                                                                        style="color:gold;" class="fas fa-trophy"></i>
                                                            </li>
                                                            <li class="list-group-item">geekfisher<i style="color:gold;"
                                                                                                     class="fas fa-trophy"></i>
                                                            </li>
                                                            <li class="list-group-item">leslie k Shaw<i
                                                                        style="color:gold;" class="fas fa-trophy"></i>
                                                            </li>
                                                            <li class="list-group-item">Josheua R Mascote<i
                                                                        style="color:gold;" class="fas fa-trophy"></i>
                                                            </li>
                                                            <li class="list-group-item">Feldherr<i
                                                                        style="color:gold;" class="fas fa-trophy"></i>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </center>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="/assets/dist/settings.min.js" type="module"></script>

