{"version":3,"sources":["webpack://@notexpectedyet/octofarm-client/./js/exceptions/error.types.js","webpack://@notexpectedyet/octofarm-client/./js/exceptions/octofarm-client.exceptions.js","webpack://@notexpectedyet/octofarm-client/webpack/bootstrap","webpack://@notexpectedyet/octofarm-client/webpack/runtime/define property getters","webpack://@notexpectedyet/octofarm-client/webpack/runtime/hasOwnProperty shorthand","webpack://@notexpectedyet/octofarm-client/webpack/runtime/make namespace object","webpack://@notexpectedyet/octofarm-client/./js/client-error.modal.js"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEsB;;;;;;;;;;;;;;;;ACPmB;;AAEzC;AACO;AACP;AACA,UAAU,2DAAiB;AAC3B;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,UAAU,2DAAiB;AAC3B;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,UAAU,2DAAiB;AAC3B;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,UAAU,4DAAkB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;UCjCA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,wCAAwC,yCAAyC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,sDAAsD,kBAAkB;WACxE;WACA,+CAA+C,cAAc;WAC7D,E;;;;;;;;;;;;ACNqE;;AAErE;AACA;;AAEA;AACA,uBAAuB,oBAAoB;;AAE3C;AACA;AACA,OAAO,aAAa,SAAS,WAAW;AACxC;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,oBAAoB;AAChC,WAAW,sBAAsB;;AAEjC,MAAM;AACN,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA,yBAAyB,yGAAqC;AAC9D,mBAAmB,mGAA+B;AAClD;AACA;AACA;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA,sCAAsC,eAAe;AACrD;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"client-error.modal.min.js","sourcesContent":["const errorTypes = {\r\n  CLIENT: \"CLIENT\",\r\n  SERVER: \"SERVER\",\r\n  NETWORK: \"NETWORK\",\r\n  UNKNOWN: \"UNKNOWN\"\r\n};\r\n\r\nexport { errorTypes };\r\n","import {errorTypes} from \"./error.types\";\r\n\r\n//FIXME: Needs updating for actual usage.\r\nexport const ClientErrors = {\r\n  FAILED_VALIDATION_PATH: {\r\n    type: errorTypes.CLIENT,\r\n    color: \"danger\",\r\n    code: \"FAILED_VALIDATION_PATH\",\r\n    message: \"Input validation failed, no path was supplied\",\r\n    statusCode: 412\r\n  },\r\n  FAILED_VALIDATION_KEY: {\r\n    type: errorTypes.CLIENT,\r\n    color: \"danger\",\r\n    code: \"FAILED_VALIDATION_KEY\",\r\n    message: \"Input validation failed, no key was supplied\",\r\n    statusCode: 412\r\n  },\r\n  FAILED_STATE_UPDATE: {\r\n    type: errorTypes.CLIENT,\r\n    color: \"warning\",\r\n    code: \"FAILED_STATE_UPDATE\",\r\n    message: \"There was an issue updating the printer state\",\r\n    statusCode: 412\r\n  },\r\n  UNKNOWN_ERROR: {\r\n    type: errorTypes.UNKNOWN,\r\n    color: \"danger\",\r\n    code: \"UNKNOWN_ERROR\",\r\n    message:\r\n      \"We encountered an unknown error! Please help the developer out and send a issue report!\",\r\n    statusCode: 999\r\n  }\r\n};\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {ClientErrors} from \"./exceptions/octofarm-client.exceptions\";\r\n\r\nconst octoFarmErrorModalElement = \"#octofarmErrorModal\";\r\nlet dealingWithError = false;\r\n\r\nfunction returnErrorMessage(options) {\r\n  let statusCode = `(${options?.statusCode})`;\r\n\r\n  return `\r\n     <br>\r\n     ${options.name} ERROR ${statusCode}: \r\n     <br>\r\n     <div class=\"py-3\">\r\n        Please report this error to <a href=\"https://github.com/octofarm/octofarm/issues\">OctoFarm Issues</a>!\r\n     </div>\r\n     ${options.message}\r\n  `;\r\n}\r\n\r\nfunction returnModalDeveloperInfo(options) {\r\n  return `\r\n    <code>\r\n    <u>FILE INFO</u><br>\r\n    LINE: ${options?.lineNumber}<br>\r\n    COL: ${options?.columnNumber}<br>\r\n   \r\n    ${options?.fileName ? \"<b>FILE:</b><br>\" + options?.fileName + \"<br>\" : \"\"}\r\n    ${options?.stack ? \"<b>STACK:</b><br>\" + options?.stack : \"\"}\r\n    </code>\r\n  `;\r\n}\r\n\r\nfunction openErrorModal(options) {\r\n  if (!options?.statusCode) {\r\n    options.statusCode = ClientErrors.UNKNOWN_ERROR.statusCode;\r\n    options.name = ClientErrors.UNKNOWN_ERROR.type;\r\n  }\r\n  const apiErrorTitle = document.getElementById(\"apiErrorTitle\");\r\n  const apiErrorMessage = document.getElementById(\"apiErrorMessage\");\r\n  const apiDeveloperInfo = document.getElementById(\"apiDeveloperInfo\");\r\n  apiErrorTitle.innerHTML = ` ${options?.name}`;\r\n  apiErrorMessage.innerHTML = returnErrorMessage(options);\r\n  apiErrorMessage.className = `text-${options?.color}`;\r\n  apiDeveloperInfo.innerHTML = returnModalDeveloperInfo(options);\r\n  setTimeout(() => {\r\n    $(octoFarmErrorModalElement).modal(\"show\");\r\n  }, 3000)\r\n\r\n}\r\n\r\nfunction handleEvent() {\r\n  if (!event?.reason) {\r\n    openErrorModal(event);\r\n  } else {\r\n    openErrorModal(event.reason);\r\n    console.trace(\"TRACE BACK: \", JSON.stringify(event));\r\n  }\r\n}\r\n\r\nwindow.onunhandledrejection = function (event) {\r\n  if (!dealingWithError) {\r\n    handleEvent(event.reason);\r\n    dealingWithError = true;\r\n  }\r\n};\r\n"],"sourceRoot":""}