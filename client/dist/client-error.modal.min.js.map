{"version":3,"sources":["webpack://@notexpectedyet/octofarm-client/./js/exceptions/error.types.js","webpack://@notexpectedyet/octofarm-client/./js/exceptions/octofarm-client.exceptions.js","webpack://@notexpectedyet/octofarm-client/./js/client-error.modal.js"],"names":["ClientErrors","type","color","code","message","statusCode","dealingWithError","openErrorModal","options","name","apiErrorTitle","document","getElementById","apiErrorMessage","apiDeveloperInfo","innerHTML","returnErrorMessage","className","lineNumber","columnNumber","fileName","stack","returnModalDeveloperInfo","setTimeout","$","modal","handleEvent","event","reason","console","trace","JSON","stringify","window","onunhandledrejection"],"mappings":"mBAAA,MCEaA,EAsBI,CACbC,KDrBO,UCsBPC,MAAO,SACPC,KAAM,gBACNC,QACE,0FACFC,WAAY,KC3BhB,IAAIC,GAAmB,EA6BvB,SAASC,EAAeC,GACjBA,GAASH,aACZG,EAAQH,WAAaL,EAA2BK,WAChDG,EAAQC,KAAOT,EAA2BC,MAE5C,MAAMS,EAAgBC,SAASC,eAAe,iBACxCC,EAAkBF,SAASC,eAAe,mBAC1CE,EAAmBH,SAASC,eAAe,oBACjDF,EAAcK,UAAY,IAAIP,GAASC,OACvCI,EAAgBE,UApClB,SAA4BP,GAC1B,IAAIH,EAAa,IAAIG,GAASH,cAE9B,MAAO,qBAEFG,EAAQC,cAAcJ,8KAKtBG,EAAQJ,cA0BeY,CAAmBR,GAC/CK,EAAgBI,UAAY,QAAQT,GAASN,QAC7CY,EAAiBC,UAxBnB,SAAkCP,GAChC,MAAO,qDAGGA,GAASU,4BACVV,GAASW,8BAEdX,GAASY,SAAW,mBAAqBZ,GAASY,SAAW,OAAS,WACtEZ,GAASa,MAAQ,oBAAsBb,GAASa,MAAQ,sBAgB/BC,CAAyBd,GACtDe,YAAW,KACTC,EA3C8B,uBA2CDC,MAAM,UAClC,KAIL,SAASC,IACFC,OAAOC,QAGVrB,EAAeoB,MAAMC,QACrBC,QAAQC,MAAM,eAAgBC,KAAKC,UAAUL,SAH7CpB,EAAeoB,OAOnBM,OAAOC,qBAAuB,SAAUP,GACjCrB,IACHoB,EAAYC,EAAMC,QAClBtB,GAAmB,K","file":"client-error.modal.min.js","sourcesContent":["const errorTypes = {\n  CLIENT: \"CLIENT\",\n  SERVER: \"SERVER\",\n  NETWORK: \"NETWORK\",\n  UNKNOWN: \"UNKNOWN\"\n};\n\nexport { errorTypes };\n","import {errorTypes} from \"./error.types\";\n\nexport const ClientErrors = {\n  FAILED_VALIDATION_PATH: {\n    type: errorTypes.CLIENT,\n    color: \"danger\",\n    code: \"FAILED_VALIDATION_PATH\",\n    message: \"Input validation failed, no path was supplied\",\n    statusCode: 412\n  },\n  FAILED_VALIDATION_KEY: {\n    type: errorTypes.CLIENT,\n    color: \"danger\",\n    code: \"FAILED_VALIDATION_KEY\",\n    message: \"Input validation failed, no key was supplied\",\n    statusCode: 412\n  },\n  FAILED_STATE_UPDATE: {\n    type: errorTypes.CLIENT,\n    color: \"warning\",\n    code: \"FAILED_STATE_UPDATE\",\n    message: \"There was an issue updating the printer state\",\n    statusCode: 412\n  },\n  UNKNOWN_ERROR: {\n    type: errorTypes.UNKNOWN,\n    color: \"danger\",\n    code: \"UNKNOWN_ERROR\",\n    message:\n      \"We encountered an unknown error! Please help the developer out and send a issue report!\",\n    statusCode: 999\n  }\n};\n","import {ClientErrors} from \"./exceptions/octofarm-client.exceptions\";\n\nconst octoFarmErrorModalElement = \"#octofarmErrorModal\";\nlet dealingWithError = false;\n\nfunction returnErrorMessage(options) {\n  let statusCode = `(${options?.statusCode})`;\n\n  return `\n     <br>\n     ${options.name} ERROR ${statusCode}: \n     <br>\n     <div class=\"py-3\">\n        Please report this error to <a href=\"https://github.com/octofarm/octofarm/issues\">OctoFarm Issues</a>!\n     </div>\n     ${options.message}\n  `;\n}\n\nfunction returnModalDeveloperInfo(options) {\n  return `\n    <code>\n    <u>FILE INFO</u><br>\n    LINE: ${options?.lineNumber}<br>\n    COL: ${options?.columnNumber}<br>\n   \n    ${options?.fileName ? \"<b>FILE:</b><br>\" + options?.fileName + \"<br>\" : \"\"}\n    ${options?.stack ? \"<b>STACK:</b><br>\" + options?.stack : \"\"}\n    </code>\n  `;\n}\n\nfunction openErrorModal(options) {\n  if (!options?.statusCode) {\n    options.statusCode = ClientErrors.UNKNOWN_ERROR.statusCode;\n    options.name = ClientErrors.UNKNOWN_ERROR.type;\n  }\n  const apiErrorTitle = document.getElementById(\"apiErrorTitle\");\n  const apiErrorMessage = document.getElementById(\"apiErrorMessage\");\n  const apiDeveloperInfo = document.getElementById(\"apiDeveloperInfo\");\n  apiErrorTitle.innerHTML = ` ${options?.name}`;\n  apiErrorMessage.innerHTML = returnErrorMessage(options);\n  apiErrorMessage.className = `text-${options?.color}`;\n  apiDeveloperInfo.innerHTML = returnModalDeveloperInfo(options);\n  setTimeout(() => {\n    $(octoFarmErrorModalElement).modal(\"show\");\n  }, 3000)\n\n}\n\nfunction handleEvent() {\n  if (!event?.reason) {\n    openErrorModal(event);\n  } else {\n    openErrorModal(event.reason);\n    console.trace(\"TRACE BACK: \", JSON.stringify(event));\n  }\n}\n\nwindow.onunhandledrejection = function (event) {\n  if (!dealingWithError) {\n    handleEvent(event.reason);\n    dealingWithError = true;\n  }\n};\n"],"sourceRoot":""}